<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Barcodes - Warehouse Scanner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .barcode-container {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .barcode-image {
            text-align: center;
            padding: 15px;
            background: white;
            border: 2px solid #000;
            margin: 10px 0;
        }
        .barcode-image img {
            max-width: 100%;
            height: auto;
        }
        .workflow-section {
            border-left: 4px solid #007bff;
            padding-left: 15px;
            margin: 20px 0;
        }
        .test-sequence {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        @media (max-width: 768px) {
            .barcode-text {
                font-size: 18px;
                padding: 10px;
            }
        }
    </style>
</head>
<body class="bg-light">
    <div class="container py-4">
        <!-- Header -->
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Test Barcodes</h2>
                    <a href="index.html" class="btn btn-primary">← Back to Scanner</a>
                </div>
                <div class="alert alert-info">
                    <strong>Instructions:</strong> Use these barcodes to test the scanner application. 
                    Point your camera at the barcode text below, or manually enter the codes.
                    <br><br>
                    <strong>QR Codes vs 1D Barcodes:</strong> QR codes contain full data (no database lookup needed) 
                    and scan better when small or blurry. 1D barcodes require database lookup but are more compact.
                </div>
            </div>
        </div>

        <!-- Picking Workflow Tests -->
        <div class="workflow-section">
            <h3 class="text-primary">1. Picking Workflow (ord_ prefix)</h3>
            <p>Start by scanning an order barcode, then scan items to pick.</p>
            
            <div class="test-sequence">
                <h5>Test Sequence (try QR codes first):</h5>
                <ol>
                    <li>Scan QR code for Order 1001 (contains full order data)</li>
                    <li>Scan QR codes for Red Widget five times</li>
                    <li>Scan QR codes for Blue Widget twice</li>
                    <li>Optional: Click "Mark Unavailable" to test out-of-stock functionality</li>
                    <li>Click "Complete Order" when all items are picked or marked unavailable</li>
                </ol>
                <p><small class="text-muted">If QR codes don't scan well, try the legacy 1D barcodes below.</small></p>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Order 1001 - ACME Corp (QR Code)</h5>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={%22order_id%22:1001,%22customer%22:%22ACME%20Corp%22,%22items%22:[{%22barcode%22:%2234623636436%22,%22name%22:%22Red%20Widget%22,%22sku%22:%22SKU-RED-001%22,%22location%22:%22QM1-1-1A%22,%22quantity_needed%22:5,%22quantity_picked%22:0},{%22barcode%22:%221234%22,%22name%22:%22Blue%20Widget%22,%22sku%22:%22SKU-BLUE-002%22,%22location%22:%22QM1-1-2B%22,%22quantity_needed%22:2,%22quantity_picked%22:0}]}" alt="QR Order 1001">
                            <div class="mt-2"><strong>QR Code Order</strong></div>
                        </div>
                        <small class="text-muted">2 items: Red Widget (5), Blue Widget (2)</small>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Order 1002 - TechCorp Ltd (QR Code)</h5>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={%22order_id%22:1002,%22customer%22:%22TechCorp%20Ltd%22,%22items%22:[{%22barcode%22:%22789ABC123XYZ%22,%22name%22:%22Green%20Gadget%22,%22sku%22:%22SKU-GREEN-003%22,%22location%22:%22QM1-2-1A%22,%22quantity_needed%22:3,%22quantity_picked%22:0}]}" alt="QR Order 1002">
                            <div class="mt-2"><strong>QR Code Order</strong></div>
                        </div>
                        <small class="text-muted">1 item: Green Gadget (3)</small>
                    </div>
                </div>
            </div>
            
            <h5>Legacy Order Barcodes:</h5>
            <div class="row">
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Order 1001 - Legacy Format</h5>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=ord_1001&code=Code128&translate-esc=on" alt="ord_1001">
                            <div class="mt-2"><strong>ord_1001</strong></div>
                        </div>
                        <small class="text-muted">Database lookup format</small>
                    </div>
                </div>
            </div>

            <h5>Items for Picking (QR Codes):</h5>
            <div class="row">
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Red Widget - QR Code</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22barcode%22:%2234623636436%22,%22name%22:%22Red%20Widget%22,%22sku%22:%22SKU-RED-001%22,%22description%22:%22Premium%20red%20widget%20for%20industrial%20use%22,%22weight%22:0.5,%22dimensions%22:%2210x5x2%20cm%22}" alt="Red Widget QR">
                            <div class="mt-1"><strong>QR: Red Widget</strong></div>
                        </div>
                        <small>SKU-RED-001 • 34623636436</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Blue Widget - QR Code</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22barcode%22:%221234%22,%22name%22:%22Blue%20Widget%22,%22sku%22:%22SKU-BLUE-002%22,%22description%22:%22Standard%20blue%20widget%20for%20general%20applications%22,%22weight%22:0.3,%22dimensions%22:%228x4x2%20cm%22}" alt="Blue Widget QR">
                            <div class="mt-1"><strong>QR: Blue Widget</strong></div>
                        </div>
                        <small>SKU-BLUE-002 • 1234</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Green Gadget - QR Code</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22barcode%22:%22789ABC123XYZ%22,%22name%22:%22Green%20Gadget%22,%22sku%22:%22SKU-GREEN-003%22,%22description%22:%22Advanced%20green%20gadget%20with%20multiple%20functions%22,%22weight%22:1.2,%22dimensions%22:%2215x8x5%20cm%22}" alt="Green Gadget QR">
                            <div class="mt-1"><strong>QR: Green Gadget</strong></div>
                        </div>
                        <small>SKU-GREEN-003 • 789ABC123XYZ</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Yellow Tool - QR Code</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22barcode%22:%22YLW-987654321%22,%22name%22:%22Yellow%20Tool%22,%22sku%22:%22SKU-YELLOW-004%22,%22description%22:%22Precision%20yellow%20tool%20for%20specialized%20tasks%22,%22weight%22:0.8,%22dimensions%22:%2212x6x3%20cm%22}" alt="Yellow Tool QR">
                            <div class="mt-1"><strong>QR: Yellow Tool</strong></div>
                        </div>
                        <small>SKU-YELLOW-004 • YLW-987654321</small>
                    </div>
                </div>
            </div>
            
            <h5>Items for Picking (Legacy 1D Barcodes):</h5>
            <div class="row">
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Red Widget</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=34623636436&code=Code128&translate-esc=on" alt="34623636436">
                            <div class="mt-1"><strong>34623636436</strong></div>
                        </div>
                        <small>SKU-RED-001</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Blue Widget</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=1234&code=Code128&translate-esc=on" alt="1234">
                            <div class="mt-1"><strong>1234</strong></div>
                        </div>
                        <small>SKU-BLUE-002</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Green Gadget</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=789ABC123XYZ&code=Code128&translate-esc=on" alt="789ABC123XYZ">
                            <div class="mt-1"><strong>789ABC123XYZ</strong></div>
                        </div>
                        <small>SKU-GREEN-003</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Yellow Tool</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=YLW-987654321&code=Code128&translate-esc=on" alt="YLW-987654321">
                            <div class="mt-1"><strong>YLW-987654321</strong></div>
                        </div>
                        <small>SKU-YELLOW-004</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stock Count Workflow Tests -->
        <div class="workflow-section">
            <h3 class="text-success">2. Stock Count Workflow (stc_ prefix)</h3>
            <p>Start by scanning a stock count barcode, then scan items to count.</p>
            
            <div class="test-sequence">
                <h5>Test Sequence:</h5>
                <ol>
                    <li>Scan <code>stc_2001</code> to load stock count</li>
                    <li>Scan <code>34623636436</code> and enter quantity (e.g., 8)</li>
                    <li>Scan <code>YLW-987654321</code> and enter quantity (e.g., 12)</li>
                    <li>Click "Complete Count" when done</li>
                </ol>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Stock Count 2001</h5>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=stc_2001&code=Code128&translate-esc=on" alt="stc_2001">
                            <div class="mt-2"><strong>stc_2001</strong></div>
                        </div>
                        <small class="text-muted">Location: QM1-1-1A</small>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Stock Count 2002</h5>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=stc_2002&code=Code128&translate-esc=on" alt="stc_2002">
                            <div class="mt-2"><strong>stc_2002</strong></div>
                        </div>
                        <small class="text-muted">Location: QM1-2-1A</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Location Move Workflow Tests -->
        <div class="workflow-section">
            <h3 class="text-warning">3. Location Move Workflow (loc_ prefix)</h3>
            <p>Start by scanning a source location, then scan item and destination.</p>
            
            <div class="test-sequence">
                <h5>Test Sequence:</h5>
                <ol>
                    <li>Scan <code>loc_3001</code> (source location)</li>
                    <li>Click "Yes, Move Item"</li>
                    <li>Scan <code>34623636436</code> (item to move)</li>
                    <li>Scan <code>loc_3004</code> (destination location)</li>
                    <li>Click "Confirm Move"</li>
                </ol>
            </div>

            <h5>Location QR Codes:</h5>
            <div class="row">
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-1-1A - QR</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22location_id%22:%22QM1-1-1A%22,%22zone%22:%22QM1%22,%22aisle%22:%221%22,%22shelf%22:%221A%22,%22capacity%22:100,%22current_items%22:[%2234623636436%22,%221234%22]}" alt="QM1-1-1A QR">
                            <div class="mt-1"><strong>QR: QM1-1-1A</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 1, Shelf 1A</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-1-2B - QR</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22location_id%22:%22QM1-1-2B%22,%22zone%22:%22QM1%22,%22aisle%22:%221%22,%22shelf%22:%222B%22,%22capacity%22:50,%22current_items%22:[%221234%22]}" alt="QM1-1-2B QR">
                            <div class="mt-1"><strong>QR: QM1-1-2B</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 1, Shelf 2B</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-2-1A - QR</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22location_id%22:%22QM1-2-1A%22,%22zone%22:%22QM1%22,%22aisle%22:%222%22,%22shelf%22:%221A%22,%22capacity%22:75,%22current_items%22:[%22789ABC123XYZ%22]}" alt="QM1-2-1A QR">
                            <div class="mt-1"><strong>QR: QM1-2-1A</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 2, Shelf 1A</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-2-2B - QR</h6>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22location_id%22:%22QM1-2-2B%22,%22zone%22:%22QM1%22,%22aisle%22:%222%22,%22shelf%22:%222B%22,%22capacity%22:60,%22current_items%22:[]}" alt="QM1-2-2B QR">
                            <div class="mt-1"><strong>QR: QM1-2-2B</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 2, Shelf 2B</small>
                    </div>
                </div>
            </div>
            
            <h5>Location Legacy Barcodes:</h5>
            <div class="row">
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-1-1A</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=loc_3001&code=Code128&translate-esc=on" alt="loc_3001">
                            <div class="mt-1"><strong>loc_3001</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 1, Shelf 1A</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-1-2B</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=loc_3002&code=Code128&translate-esc=on" alt="loc_3002">
                            <div class="mt-1"><strong>loc_3002</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 1, Shelf 2B</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-2-1A</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=loc_3003&code=Code128&translate-esc=on" alt="loc_3003">
                            <div class="mt-1"><strong>loc_3003</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 2, Shelf 1A</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="barcode-container">
                        <h6>Location QM1-2-2B</h6>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=loc_3004&code=Code128&translate-esc=on" alt="loc_3004">
                            <div class="mt-1"><strong>loc_3004</strong></div>
                        </div>
                        <small>Zone QM1, Aisle 2, Shelf 2B</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Item Actions Tests -->
        <div class="workflow-section">
            <h3 class="text-danger">4. Item Actions (item when no workflow active)</h3>
            <p>Scan an item when no workflow is active to choose between returns or quantity update.</p>
            
            <div class="test-sequence">
                <h5>Returns Test Sequence:</h5>
                <ol>
                    <li>Ensure no workflow is active (cancel any active workflow)</li>
                    <li>Scan <code>PRP@456DEF789</code> (Purple Device)</li>
                    <li>Click "Start Returns Process"</li>
                    <li>Scan <code>loc_3001</code> (source location)</li>
                    <li>Scan <code>loc_3004</code> (destination location)</li>
                    <li>Click "Confirm Move"</li>
                </ol>
                <h5>Quantity Update Test Sequence:</h5>
                <ol>
                    <li>Ensure no workflow is active</li>
                    <li>Scan <code>PRP@456DEF789</code> (Purple Device)</li>
                    <li>Click "Update SKU Quantity"</li>
                    <li>Enter new quantity in modal (e.g., 25)</li>
                    <li>Click "OK" then "Confirm - Apply New Quantity"</li>
                </ol>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Purple Device - QR Code</h5>
                        <div class="barcode-image">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={%22barcode%22:%22PRP@456DEF789%22,%22name%22:%22Purple%20Device%22,%22sku%22:%22SKU-PURPLE-005%22,%22description%22:%22Compact%20purple%20device%20for%20mobile%20operations%22,%22weight%22:0.4,%22dimensions%22:%229x5x2%20cm%22}" alt="Purple Device QR">
                            <div class="mt-2"><strong>QR: Purple Device</strong></div>
                        </div>
                        <small class="text-muted">SKU-PURPLE-005 • PRP@456DEF789</small>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="barcode-container">
                        <h5>Purple Device - Legacy Barcode</h5>
                        <div class="barcode-image">
                            <img src="https://barcode.tec-it.com/barcode.ashx?data=PRP%40456DEF789&code=Code128&translate-esc=on" alt="PRP@456DEF789">
                            <div class="mt-2"><strong>PRP@456DEF789</strong></div>
                        </div>
                        <small class="text-muted">SKU-PURPLE-005</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error Testing -->
        <div class="workflow-section">
            <h3 class="text-secondary">5. Error Testing</h3>
            <p>Test error handling by scanning wrong barcode types during active workflows.</p>
            
            <div class="test-sequence">
                <h5>Error Test Sequence:</h5>
                <ol>
                    <li>Start picking workflow with <code>ord_1001</code></li>
                    <li>Try scanning <code>stc_2001</code> → Should show "Item doesn't exist in order"</li>
                    <li>Try scanning <code>loc_3001</code> → Should show "Item doesn't exist in order"</li>
                    <li>Try scanning <code>ord_1002</code> → Should show "Item doesn't exist in order"</li>
                    <li>Only item barcodes should work during picking</li>
                </ol>
            </div>
        </div>

        <!-- Quick Test Links -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Quick Test Actions</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-2 d-md-flex">
                            <button class="btn btn-outline-primary" onclick="testPicking()">Test Picking</button>
                            <button class="btn btn-outline-success" onclick="testStockCount()">Test Stock Count</button>
                            <button class="btn btn-outline-warning" onclick="testLocationMove()">Test Location Move</button>
                            <button class="btn btn-outline-danger" onclick="testReturns()">Test Returns</button>
                        </div>
                        <small class="text-muted d-block mt-2">
                            These buttons will automatically navigate to the scanner and simulate barcode scans.
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="text-center text-muted">
                    <small>
                        Warehouse Scanner Test Barcodes • 
                        <a href="index.html">Return to Scanner</a>
                    </small>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quick test functions
        function testPicking() {
            localStorage.setItem('autoTest', 'picking');
            window.location.href = 'index.html';
        }

        function testStockCount() {
            localStorage.setItem('autoTest', 'stockcount');
            window.location.href = 'index.html';
        }

        function testLocationMove() {
            localStorage.setItem('autoTest', 'locationmove');
            window.location.href = 'index.html';
        }

        function testReturns() {
            localStorage.setItem('autoTest', 'returns');
            window.location.href = 'index.html';
        }

        // Copy barcode to clipboard when clicked
        document.querySelectorAll('.barcode-image').forEach(element => {
            element.style.cursor = 'pointer';
            element.title = 'Click to copy barcode text';
            
            element.addEventListener('click', function() {
                const text = this.querySelector('div strong').textContent;
                navigator.clipboard.writeText(text).then(() => {
                    // Visual feedback
                    const original = this.style.backgroundColor;
                    this.style.backgroundColor = '#28a745';
                    this.style.color = 'white';
                    
                    setTimeout(() => {
                        this.style.backgroundColor = original;
                        this.style.color = '';
                    }, 500);
                }).catch(err => {
                    console.error('Failed to copy:', err);
                });
            });
        });
    </script>
</body>
</html>